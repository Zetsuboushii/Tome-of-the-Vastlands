---
layout: default
---

<div class="home">
    {%- if page.title -%}
    <h1 class="page-heading">{{ page.title }}</h1>
    {%- endif -%}

    <div class="calendar">
        <div id="calendar-header">
            <button id="prev-month">❮</button>
            <div id="month-name"></div>
            <button id="next-month">❯</button>
        </div>
        <div id="weekdays"></div>
        <div id="days"></div>
    </div>

    <div id="holiday-info" style="text-align: center"></div>
</div>

<script>
    const calendar = {
        daysOfWeek: ["Lunesdag", "Flamdag", "Quellsdag", "Waldsdag", "Goldag", "Terrasdag", "Sunnesdag"],
        months: ["Eismond", "Frostmond", "Saatmond", "Blütenmond", "Wonnemond", "Heumond", "Sonnenmond", "Erntemond", "Fruchtmond", "Weinmond", "Nebelmond", "Julmond"],
        holidays: {
            "Eismond-1": "Neujahrsfest",
            "Eismond-15": "Wintermarkt",
            "Eismond-16": "Wintermarkt",
            "Frostmond-14": "Tag der Liebe",
            "Saatmond-2": "Tag der Erde",
            "Saatmond-13": "Geburtstag von U-Ranos",
            "Saatmond-20": "Frühlingsanfang",
            "Eismond-17": "Wintermarkt",
            "Eismond-30": "Tag des Eises",
            "Blütenmond-1": "Tag der Streiche",
            "Blütenmond-7": "Blumenfest",
            "Blütenmond-8": "Gartenfestival in Frelia",
            "Wonnemond-1": "Wonnemondfest",
            "Wonnemond-15": "Frühlingsmarkt",
            "Wonnemond-19": "Dünsberger Apfelweinfest",
            "Heumond-3": "Tag des Donners",
            "Heumond-16": "Tag der Vereinigung",
            "Heumond-21": "Sommersonnenwende",
            "Sonnenmond-1": "Eröffnung des Sommermarkts",
            "Sonnenmond-4": "Fest der Lichter",
            "Sonnenmond-10": "Tag des Wassers",
            "Sonnenmond-14": "Mittsommerfest",
            "Sonnenmond-31": "Abschlussfeier des Sommermarkts",
            "Erntemond-15": "Geburtstag des Königs Gralnach",
            "Nebelmond-15": "Erntefest",
            "Fruchtmond-19": "Dünsberger Apfelernte",
            "Fruchtmond-21": "Herbstbeginn",
            "Fruchtmond-30": "Tag des Friedens",
            "Weinmond-3": "Rebenerntefest",
            "Fruchtmond-4": "Tag des Feuers",
            "Weinmond-31": "Nacht der Toten",
            "Nebelmond-18": "Tag des Windes",
            "Nebelmond-25": "Geburtstag von Nayru",
            "Julmond-21": "Julfest",
            "Julmond-25": "Winterfest",
            "Julmond-31": "Neujahrsabend, kencht",
        },
        currentMonth: 11,
        currentYear: 394
    };

    const prevMonthBtn = document.getElementById("prev-month");
    const nextMonthBtn = document.getElementById("next-month");
    const monthName = document.getElementById("month-name");
    const weekdaysDiv = document.getElementById("weekdays");
    const daysDiv = document.getElementById("days");
    const holidayInfo = document.getElementById("holiday-info");

    function renderWeekdays() {
        weekdaysDiv.innerHTML = '';
        calendar.daysOfWeek.forEach(day => {
            const dayDiv = document.createElement("div");
            dayDiv.textContent = day;
            weekdaysDiv.appendChild(dayDiv);
        });
    }

    function getDaysInMonth(month, year) {
        return new Date(year, month + 1, 0).getDate(); // Letzter Tag des Monats
    }

    function renderDays() {
        daysDiv.innerHTML = '';
        const daysInMonth = getDaysInMonth(calendar.currentMonth, calendar.currentYear);
        const firstDayOfMonth = new Date(calendar.currentYear, calendar.currentMonth, 1).getDay(); // Erster Wochentag des Monats
        const startingBlankDays = firstDayOfMonth; // Leere Felder zu Beginn

        for (let i = 0; i < startingBlankDays; i++) {
            const blankDiv = document.createElement("div");
            daysDiv.appendChild(blankDiv);
        }

        for (let day = 1; day <= daysInMonth; day++) {
            const dayDiv = document.createElement("div");
            dayDiv.textContent = day;
            const holidayKey = `${calendar.months[calendar.currentMonth]}-${day}`;
            if (calendar.holidays[holidayKey]) {
                dayDiv.classList.add("holiday");
                dayDiv.title = calendar.holidays[holidayKey];
            }

            // Event-Listener zum Anzeigen von Feiertagen hinzufügen
            dayDiv.addEventListener('click', () => showHoliday(holidayKey));

            daysDiv.appendChild(dayDiv);
        }
    }

    function showHoliday(holidayKey) {
        const holiday = calendar.holidays[holidayKey];
        if (holiday) {
            holidayInfo.textContent = `Feiertag: ${holiday}`;
            holidayInfo.style.display = 'block'; // Feiertagsinfo anzeigen
        } else {
            holidayInfo.textContent = 'Kein Feiertag an diesem Tag.';
            holidayInfo.style.display = 'block'; // Nachricht anzeigen, wenn kein Feiertag
        }
    }

    function updateCalendar() {
        monthName.textContent = `${calendar.months[calendar.currentMonth]} ${calendar.currentYear}`;
        renderDays();
    }

    prevMonthBtn.addEventListener("click", () => {
        calendar.currentMonth--;
        if (calendar.currentMonth < 0) {
            calendar.currentMonth = 11; // Letzter Monat
            calendar.currentYear--;
        }
        updateCalendar();
    });

    nextMonthBtn.addEventListener("click", () => {
        calendar.currentMonth++;
        if (calendar.currentMonth > 11) {
            calendar.currentMonth = 0; // Erster Monat
            calendar.currentYear++;
        }
        updateCalendar();
    });

    renderWeekdays();
    updateCalendar();
</script>
